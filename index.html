            margin-top: 10px;
            width: 100%;
            padding: 8px;
            background: #2c82c9;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
        }
        .output, .summary {
            margin-top: 12px;
            font-size: 14px;
        }
        .highlight {
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h2>üïî Feierabend-Timer</h2>
        <div id="today"></div>
        <input type="time" id="startTime" />
        <button onclick="startTimer()">Start</button>
        <button onclick="addPastHours()">Stunden nachtragen</button>
        <div class="output" id="output"></div>
        <div class="summary" id="monthly"></div>
    </div>

    <script>
        let interval;

        function startTimer() {
            clearInterval(interval);
            const input = document.getElementById('startTime').value;
            if (!input) return;
            saveWorkday(input);
            updateTimer(input);
            interval = setInterval(() => updateTimer(input), 1000);
        }

        function saveWorkday(startStr) {
            const now = new Date();
            const key = now.toISOString().slice(0, 10);
            if (!localStorage.getItem("workdays")) localStorage.setItem("workdays", "{}");
            const all = JSON.parse(localStorage.getItem("workdays"));
            all[key] = startStr;
            localStorage.setItem("workdays", JSON.stringify(all));
        }

@@ -106,40 +107,61 @@
            }

            updateMonthlyOverview();
        }

        function updateMonthlyOverview() {
            const now = new Date();
            const month = now.getMonth();
            const year = now.getFullYear();
            const totalDays = new Date(year, month + 1, 0).getDate();
            let workdays = 0;
            for (let d = 1; d <= totalDays; d++) {
                const day = new Date(year, month, d).getDay();
                if (day >= 1 && day <= 5) workdays++;
            }

            const soll = workdays * 8 * 60;
            let ist = 0;
            const saved = JSON.parse(localStorage.getItem("workdays") || "{}");
            for (const key in saved) {
                if (key.startsWith(`${year}-${String(month + 1).padStart(2, '0')}`)) {
                    ist += calculateWorkMinutes(saved[key]);
                }
            }

            const extras = JSON.parse(localStorage.getItem('pastHours') || '{}');
            for (const d in extras) {
                if (d.startsWith(`${year}-${String(month + 1).padStart(2, '0')}`)) {
                    ist += extras[d];
                }
            }

            const saldo = ist - soll;
            const st = Math.floor(Math.abs(saldo) / 60).toString().padStart(2, '0');
            const mt = Math.abs(saldo) % 60;
            const saldoStr = `${saldo >= 0 ? "+" : "‚Äì"}${st}:${mt.toString().padStart(2, '0')}`;
            const status = (saldo > 0) ? "‚ùå √úber Soll (Kurzarbeit!)" : "‚úÖ im Limit";

            document.getElementById("monthly").innerHTML = `üìÖ ${now.toLocaleDateString('de-DE', { month: 'long', year: 'numeric' })}<br>Soll: <b>${Math.floor(soll / 60)}:${(soll % 60).toString().padStart(2, '0')} h</b> ‚Äì Ist: <b>${Math.floor(ist / 60)}:${(ist % 60).toString().padStart(2, '0')} h</b><br>Saldo: <b>${saldoStr}</b><br>Status: ${status}`;
        }

        function addPastHours() {
            const date = prompt('Datum (YYYY-MM-DD):');
            if (!date) return;
            const hours = prompt('Gearbeitete Stunden (HH:MM):');
            if (!hours) return;
            const [h, m] = hours.split(':').map(Number);
            if (isNaN(h) || isNaN(m)) return;
            const minutes = h * 60 + m;
            const store = JSON.parse(localStorage.getItem('pastHours') || '{}');
            store[date] = minutes;
            localStorage.setItem('pastHours', JSON.stringify(store));
            updateMonthlyOverview();
        }

        const today = new Date();
        const dateString = today.toLocaleDateString('de-DE', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
        document.getElementById('today').textContent = dateString;
    </script>
</body>
</html>
